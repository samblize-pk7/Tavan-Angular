<div class="flex flex-wrap">
	<div class="px-4 text-right w-full mx-12">
		<div class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0">
			<div class="rounded-t bg-teal-300 mb-0 px-6 py-6">
				<div class="text-center flex justify-start">
					<div
						class="w-full flex sm:border-b sm:border-gray-300 relative flex-col sm:flex-row"
						style="border: transparent;"
					>
						<div
							id="info"
							class="mx-1 rounded-lg flex-1 sm:text-center font-medium py-3 cursor-pointer hover:opacity-50 tab bg-white text-red-600 border-b-4 border-blue-300 duration-500"
						>
							اطلاعات دوره
						</div>
						<div
							id="video"
							class="mx-1 rounded-lg flex-1 sm:text-center font-medium py-3 cursor-pointer hover:opacity-50 false border-b-4 bg-teal-200 border-teal-300 duration-500"
						>
							ویدیو های دوره
						</div>
					</div>
				</div>
			</div>
			<div class="flex-auto px-4 lg:px-10 py-10 pt-0">
				<form>
					<div class="information-tab my-5">
						<div class="flex-auto px-4 lg:px-10 py-10 pt-0">
							<form *ngIf="course" [formGroup]="courseForm" (ngSubmit)="onSubmit()">
								<h6 class="text-mesh-700 text-sm mt-3 mb-6 font-bold uppercase">
									اطلاعات دوره
								</h6>
								<div class="flex flex-wrap">
									<div class="w-full lg:w-4/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												نام دوره
											</label>
											<input
												type="text"
												name="title"
												[(ngModel)]="course.title"
												formControlName="title"
												class="form-control px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
											/>
										</div>
									</div>

									<div class="w-full lg:w-4/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												مدرس دوره
											</label>
											<input
												formControlName="teacher"
												type="text"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="teacher"
												[(ngModel)]="course.teacher"
											/>
										</div>
									</div>

									<div class="form-group w-full lg:w-4/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												قیمت دوره
											</label>
											<input
												formControlName="cost"
												type="text"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="cost"
												[(ngModel)]="course.cost"
											/>
										</div>
									</div>
									<div class="w-full lg:w-4/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												تاریخ برگذاری
											</label>
											<input
												#startDate
												formControlName="started"
												type="text"
												name="started"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
											/>
											<ng-persian-datepicker
												[timeMeridian]="false"
												[input]="startDate"
												[uiHideAfterSelectDate]="true"
											></ng-persian-datepicker>
										</div>
									</div>
									<div class="w-full lg:w-4/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												تاریخ پایان
											</label>
											<input
												type="text"
												formControlName="ended"
												(input)="FinishDateChange($event.target.value)"
												name="ended"
												#endDate
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
											/>
											<ng-persian-datepicker
												[dateValue]="course.ended"
												[timeMeridian]="true"
												[input]="endDate"
												(input)="FinishDateChange($event.target.value)"
												[uiHideAfterSelectDate]="true"
											></ng-persian-datepicker>
										</div>
									</div>

									<div class="w-full lg:w-4/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												تخفیف
											</label>
											<input
												formControlName="off"
												type="text"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="off"
												[(ngModel)]="course.off"
											/>
										</div>
									</div>
								</div>

								<hr class="mt-6 border-b-1 border-gray-400" />

								<h6 class="text-mesh-700 text-sm mt-3 mb-6 font-bold uppercase">
									توضیحات دوره
								</h6>
								<div class="flex flex-wrap">
									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												توضیحات دوره
											</label>
											<textarea
												type="text"
												formControlName="description"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												rows="4"
												name="description"
												[(ngModel)]="course.description"
											></textarea>
										</div>
									</div>

									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												سرفصل ها
											</label>
											<input
												type="text"
												formControlName="titres"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="titres"
												[(ngModel)]="course.titres"
											/>
										</div>
									</div>

									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												روز های دوره
											</label>
											<input
												type="text"
												formControlName="courseDays"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="courseDays"
												[(ngModel)]="course.courseDays"
											/>
										</div>
									</div>

									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												وضعیت دوره
											</label>
											<select
												name="isActive"
												formControlName="isActive"
												[(ngModel)]="course.isActive"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150 focus:bg-white"
											>
												<option value="true">در حال برگزاری</option>
												<option value="false">برگزار شده</option>
											</select>
										</div>
									</div>

									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												آدرس ویدیو
											</label>
											<input
												type="text"
												formControlName="videoUrl"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="videoUrl"
												[(ngModel)]="course.media.videoUrl"
											/>
										</div>
									</div>
									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												ایدی ویدیو
											</label>
											<input
												type="text"
												formControlName="videoId"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="videoId"
												[(ngModel)]="course.media.videoId"
											/>
										</div>
									</div>

									<div class="w-full lg:w-12/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												لینک دوره
											</label>
											<input
												type="text"
												formControlName="url"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												name="url"
												[(ngModel)]="course.url"
											/>
										</div>
									</div>
								</div>

								<hr class="mt-6 border-b-1 border-gray-400" />

								<h6 class="text-mesh-700 text-sm mt-3 mb-6 font-bold uppercase">
									تایید نهایی
								</h6>
								<div class="flex flex-wrap justify-between">
									<div class="w-full lg:w-6/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
												عکس دوره
											</label>
											<input
												type="file"
												formControlName="file"
												(change)="onFileChange($event)"
												class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
												value="عکس دوره را انتخاب کنید"
											/>
											<h1 class="py-3">progress bar</h1>
											<button
												(click)="updateCourse()"
												class="bg-green-600 text-white active:bg-green-800 hover:bg-green-300 hover:text-green-900 uppercase text-ms px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
												type="button"
											>
											ذخیره تغییرات
											</button>
											<button
												(click)="deleteCourse(course.id)"
												class="bg-red-600 text-white active:bg-red-800 hover:bg-red-300 hover:text-white uppercase text-ms px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
												type="button"
											>
											حذف دوره
											</button>
										</div>
									</div>
									<div class="w-full lg:w-6/12 px-4">
										<div class="relative w-full mb-3">
											<label
												class="block uppercase text-gray-700 text-xs font-bold mb-2"
												htmlFor="grid-password"
											>
											</label>
											<img
												style="height: 18rem; width: 18rem; margin: auto;"
												src="{{course.media.photoUrl}}"
												alt="Image placeHolder"
											/>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>

					<div class="video-tab my-5 hidden">
						<form #videoForm="ngForm" (ngSubmit)="addVideo(course.id)">
						<div class="w-full flex flex-wrap">
								<div class="w-6/12">
									<label
										class="block uppercase text-gray-700 text-xs font-bold mb-2"
										htmlFor="grid-password"
									>
										نام ویدیو
									</label>
									<input
										name="title"
										[(ngModel)]="video.title"
										type="text"
										class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
									/>
									<label
										class="block uppercase text-gray-700 text-xs font-bold mb-2"
										htmlFor="grid-password"
									>
										ایدی ویدیو
									</label>
									<input
										name="videoId"
										[(ngModel)]="video.videoId"
										type="text"
										class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
									/>
									<label
										class="block uppercase text-gray-700 text-xs font-bold mb-2"
										htmlFor="grid-password"
									>
										لینک ویدیو
									</label>
									<input
										name="videoUrl"
										[(ngModel)]="video.url"
										type="text"
										class="px-3 py-3 border-2 border-gray-700 placeholder-gray-400 text-gray-700 bg-gray-200 rounded text-sm shadow focus:outline-none focus:shadow-outline w-full ease-linear transition-all duration-150"
									/>
								</div>

								<div class="w-4/12 text-center" style="align-self: center;">
									<button
										class="bg-mesh-600 text-white active:bg-indigo-600 text-xs uppercase px-5 py-3 rounded outline-none focus:outline-none mr-1 ease-linear transition-all font-bold duration-150 hover:bg-transparent hover:text-green-700 border-2 border-transparent hover:border-green-600"
										type="submit"
									>
										<i class="fa fa-plus-square"></i>
										Add Video
									</button>
								</div>
							</div>
						</form>
						<div class="my-10 align-self-center text-center w-full">
							<!--? :: :: :: A K A R D E O N :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: -->
							<mat-accordion *ngIf="course.videos" class="duration-500">
								<mat-expansion-panel
									*ngFor="let video of course.videos"
									class="duration-500"
									(opened)="panelOpenState1 = true"
									(closed)="panelOpenState1 = false"
								>
									<mat-expansion-panel-header>
										<mat-panel-title class="font-bold text-black fa-vazir vazir">
											{{video.title}}
										</mat-panel-title>
										<mat-panel-description
											class="duration-200"
											[ngClass]="
											panelOpenState1
												? 'text-red-600 font-bold'
												: 'text-gray-300 hover:text-red-300'
                      "
										>
											{{panelOpenState1 ? 'open' : 'closed'}}
										</mat-panel-description>
									</mat-expansion-panel-header>
									<div class="lessons-info">
										<span
											class="duration"
											data-toggle="tooltip"
											data-placement="top"
											title="Duration"
											><div class="w-full flex flex-wrap justify-end mt-3">
												<button
												(click)="deleteVideo(video.id)"
													class="bg-red-400 px-3 py-4 rounded text-black hover:bg-red-600 hover:text-white duration-300"
												>
													Delete video
												</button>
											</div>
										</span>
										<div style="margin-top: 15px; display: block;"></div>
										<div class="h_iframe-aparat_embed_frame">
											<div class="r1_iframe_embed">
												<iframe
													[src]="video.url | arvan"
													frameborder="0"
													allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
													allowfullscreen="true"
													webkitallowfullscreen="true"
													mozallowfullscreen="true"
												></iframe>
											</div>
										</div>
									</div>
								</mat-expansion-panel>
							</mat-accordion>

							<!--? end of A K A R D E O N :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: :: : :: :: :: :: :: :: :: :: :: :: :: :: ::  -->
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
